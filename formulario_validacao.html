<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formul√°rio com Valida√ß√£o | Curso Web Development</title>
  <meta name="description"
    content="Exemplo de formul√°rio HTML5 com valida√ß√£o client-side usando JavaScript, regex e feedback visual em tempo real.">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .container {
      background: white;
      border-radius: 20px;
      padding: 40px;
      width: 100%;
      max-width: 500px;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
    }

    .header {
      text-align: center;
      margin-bottom: 30px;
    }

    .header h1 {
      color: #333;
      font-size: 1.8em;
      margin-bottom: 10px;
    }

    .header p {
      color: #666;
      font-size: 0.95em;
    }

    .form-group {
      margin-bottom: 20px;
      position: relative;
    }

    label {
      display: block;
      color: #333;
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 0.9em;
    }

    label .required {
      color: #e74c3c;
    }

    input,
    select,
    textarea {
      width: 100%;
      padding: 14px 16px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 1em;
      transition: all 0.3s ease;
      outline: none;
    }

    input:focus,
    select:focus,
    textarea:focus {
      border-color: #667eea;
      box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
    }

    input.valid {
      border-color: #10b981;
      background: #f0fdf4;
    }

    input.invalid {
      border-color: #ef4444;
      background: #fef2f2;
    }

    .error-message {
      color: #ef4444;
      font-size: 0.85em;
      margin-top: 6px;
      display: none;
    }

    .error-message.show {
      display: block;
      animation: shake 0.3s ease;
    }

    @keyframes shake {

      0%,
      100% {
        transform: translateX(0);
      }

      25% {
        transform: translateX(-5px);
      }

      75% {
        transform: translateX(5px);
      }
    }

    .password-strength {
      height: 5px;
      border-radius: 3px;
      margin-top: 8px;
      background: #e0e0e0;
      overflow: hidden;
    }

    .password-strength-bar {
      height: 100%;
      width: 0;
      transition: all 0.3s ease;
      border-radius: 3px;
    }

    .password-strength-bar.weak {
      width: 33%;
      background: #ef4444;
    }

    .password-strength-bar.medium {
      width: 66%;
      background: #f59e0b;
    }

    .password-strength-bar.strong {
      width: 100%;
      background: #10b981;
    }

    .password-strength-text {
      font-size: 0.8em;
      margin-top: 5px;
      color: #666;
    }

    .checkbox-group {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .checkbox-group input[type="checkbox"] {
      width: auto;
      cursor: pointer;
    }

    .checkbox-group label {
      margin-bottom: 0;
      font-weight: normal;
      cursor: pointer;
    }

    .btn {
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 1.1em;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 10px;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
    }

    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    .success-message {
      display: none;
      text-align: center;
      padding: 30px;
    }

    .success-message.show {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    .success-message .icon {
      font-size: 4em;
      margin-bottom: 20px;
    }

    .success-message h2 {
      color: #10b981;
      margin-bottom: 10px;
    }

    .success-message p {
      color: #666;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: scale(0.9);
      }

      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .back-link {
      display: block;
      text-align: center;
      margin-top: 25px;
      color: #667eea;
      text-decoration: none;
      font-weight: 600;
    }

    .back-link:hover {
      text-decoration: underline;
    }

    .input-icon {
      position: absolute;
      right: 16px;
      top: 42px;
      font-size: 1.2em;
    }

    .tips {
      background: #f5f7fa;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 20px;
    }

    .tips h4 {
      color: #333;
      font-size: 0.9em;
      margin-bottom: 8px;
    }

    .tips ul {
      list-style: none;
      font-size: 0.85em;
      color: #666;
    }

    .tips ul li {
      padding: 3px 0;
    }

    .tips ul li::before {
      content: "‚úì ";
      color: #10b981;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <h1>üìù Cadastro de Usu√°rio</h1>
      <p>Preencha todos os campos corretamente</p>
    </div>

    <form id="registrationForm">
      <!-- Nome Completo -->
      <div class="form-group">
        <label for="nome">Nome Completo <span class="required">*</span></label>
        <input type="text" id="nome" name="nome" placeholder="Ex: Jo√£o Silva" required minlength="3">
        <span class="input-icon" id="nomeIcon"></span>
        <div class="error-message" id="nomeError">Nome deve ter pelo menos 3 caracteres</div>
      </div>

      <!-- Email -->
      <div class="form-group">
        <label for="email">E-mail <span class="required">*</span></label>
        <input type="email" id="email" name="email" placeholder="seu@email.com" required>
        <span class="input-icon" id="emailIcon"></span>
        <div class="error-message" id="emailError">Digite um e-mail v√°lido</div>
      </div>

      <!-- Telefone -->
      <div class="form-group">
        <label for="telefone">Telefone <span class="required">*</span></label>
        <input type="tel" id="telefone" name="telefone" placeholder="(11) 99999-9999" required>
        <span class="input-icon" id="telefoneIcon"></span>
        <div class="error-message" id="telefoneError">Digite um telefone v√°lido: (XX) XXXXX-XXXX</div>
      </div>

      <!-- CPF -->
      <div class="form-group">
        <label for="cpf">CPF <span class="required">*</span></label>
        <input type="text" id="cpf" name="cpf" placeholder="000.000.000-00" required maxlength="14">
        <span class="input-icon" id="cpfIcon"></span>
        <div class="error-message" id="cpfError">Digite um CPF v√°lido</div>
      </div>

      <!-- Senha -->
      <div class="form-group">
        <label for="senha">Senha <span class="required">*</span></label>
        <input type="password" id="senha" name="senha" placeholder="M√≠nimo 8 caracteres" required minlength="8">
        <span class="input-icon" id="senhaIcon"></span>
        <div class="password-strength">
          <div class="password-strength-bar" id="strengthBar"></div>
        </div>
        <div class="password-strength-text" id="strengthText"></div>
        <div class="error-message" id="senhaError">Senha deve ter no m√≠nimo 8 caracteres</div>
      </div>

      <!-- Confirmar Senha -->
      <div class="form-group">
        <label for="confirmarSenha">Confirmar Senha <span class="required">*</span></label>
        <input type="password" id="confirmarSenha" name="confirmarSenha" placeholder="Repita a senha" required>
        <span class="input-icon" id="confirmarSenhaIcon"></span>
        <div class="error-message" id="confirmarSenhaError">As senhas n√£o coincidem</div>
      </div>

      <!-- Data de Nascimento -->
      <div class="form-group">
        <label for="dataNascimento">Data de Nascimento <span class="required">*</span></label>
        <input type="date" id="dataNascimento" name="dataNascimento" required>
        <div class="error-message" id="dataNascimentoError">Voc√™ deve ter pelo menos 18 anos</div>
      </div>

      <!-- Termos -->
      <div class="form-group checkbox-group">
        <input type="checkbox" id="termos" name="termos" required>
        <label for="termos">Li e aceito os <a href="#" style="color: #667eea;">Termos de Uso</a></label>
      </div>

      <div class="tips">
        <h4>üí° Dicas para uma senha forte:</h4>
        <ul>
          <li>M√≠nimo de 8 caracteres</li>
          <li>Letras mai√∫sculas e min√∫sculas</li>
          <li>Pelo menos um n√∫mero</li>
          <li>Caractere especial (!@#$%)</li>
        </ul>
      </div>

      <button type="submit" class="btn" id="submitBtn">Cadastrar</button>
    </form>

    <div class="success-message" id="successMessage">
      <div class="icon">‚úÖ</div>
      <h2>Cadastro Realizado!</h2>
      <p>Seus dados foram validados com sucesso.</p>
      <button class="btn" onclick="resetForm()" style="margin-top: 20px;">Novo Cadastro</button>
    </div>

    <a href="examples.html" class="back-link">‚Üê Voltar para Exemplos</a>
  </div>

  <script>
    // Elementos do formul√°rio
    const form = document.getElementById('registrationForm');
    const successMessage = document.getElementById('successMessage');

    // Campos
    const nome = document.getElementById('nome');
    const email = document.getElementById('email');
    const telefone = document.getElementById('telefone');
    const cpf = document.getElementById('cpf');
    const senha = document.getElementById('senha');
    const confirmarSenha = document.getElementById('confirmarSenha');
    const dataNascimento = document.getElementById('dataNascimento');

    // Regex patterns
    const patterns = {
      nome: /^[a-zA-Z√Ä-√ø\s]{3,}$/,
      email: /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,
      telefone: /^\(\d{2}\)\s?\d{4,5}-\d{4}$/,
      cpf: /^\d{3}\.\d{3}\.\d{3}-\d{2}$/,
      senha: /^.{8,}$/
    };

    // Valida√ß√£o em tempo real
    function validateField(field, pattern, errorId, iconId) {
      const value = field.value.trim();
      const errorElement = document.getElementById(errorId);
      const iconElement = document.getElementById(iconId);

      if (value === '') {
        field.classList.remove('valid', 'invalid');
        errorElement.classList.remove('show');
        iconElement.textContent = '';
        return false;
      }

      if (pattern.test(value)) {
        field.classList.add('valid');
        field.classList.remove('invalid');
        errorElement.classList.remove('show');
        iconElement.textContent = '‚úÖ';
        return true;
      } else {
        field.classList.add('invalid');
        field.classList.remove('valid');
        errorElement.classList.add('show');
        iconElement.textContent = '‚ùå';
        return false;
      }
    }

    // M√°scara de telefone
    telefone.addEventListener('input', function (e) {
      let value = e.target.value.replace(/\D/g, '');
      if (value.length > 11) value = value.slice(0, 11);

      if (value.length > 6) {
        value = `(${value.slice(0, 2)}) ${value.slice(2, 7)}-${value.slice(7)}`;
      } else if (value.length > 2) {
        value = `(${value.slice(0, 2)}) ${value.slice(2)}`;
      } else if (value.length > 0) {
        value = `(${value}`;
      }

      e.target.value = value;
    });

    // M√°scara de CPF
    cpf.addEventListener('input', function (e) {
      let value = e.target.value.replace(/\D/g, '');
      if (value.length > 11) value = value.slice(0, 11);

      if (value.length > 9) {
        value = `${value.slice(0, 3)}.${value.slice(3, 6)}.${value.slice(6, 9)}-${value.slice(9)}`;
      } else if (value.length > 6) {
        value = `${value.slice(0, 3)}.${value.slice(3, 6)}.${value.slice(6)}`;
      } else if (value.length > 3) {
        value = `${value.slice(0, 3)}.${value.slice(3)}`;
      }

      e.target.value = value;
    });

    // For√ßa da senha
    senha.addEventListener('input', function () {
      const value = this.value;
      const strengthBar = document.getElementById('strengthBar');
      const strengthText = document.getElementById('strengthText');

      let strength = 0;
      if (value.length >= 8) strength++;
      if (/[a-z]/.test(value) && /[A-Z]/.test(value)) strength++;
      if (/\d/.test(value)) strength++;
      if (/[!@#$%^&*(),.?":{}|<>]/.test(value)) strength++;

      strengthBar.className = 'password-strength-bar';

      if (strength <= 1) {
        strengthBar.classList.add('weak');
        strengthText.textContent = 'üî¥ Senha fraca';
      } else if (strength <= 2) {
        strengthBar.classList.add('medium');
        strengthText.textContent = 'üü° Senha m√©dia';
      } else {
        strengthBar.classList.add('strong');
        strengthText.textContent = 'üü¢ Senha forte';
      }

      validateField(senha, patterns.senha, 'senhaError', 'senhaIcon');
    });

    // Confirmar senha
    confirmarSenha.addEventListener('input', function () {
      const errorElement = document.getElementById('confirmarSenhaError');
      const iconElement = document.getElementById('confirmarSenhaIcon');

      if (this.value === senha.value && this.value !== '') {
        this.classList.add('valid');
        this.classList.remove('invalid');
        errorElement.classList.remove('show');
        iconElement.textContent = '‚úÖ';
      } else if (this.value !== '') {
        this.classList.add('invalid');
        this.classList.remove('valid');
        errorElement.classList.add('show');
        iconElement.textContent = '‚ùå';
      }
    });

    // Valida√ß√£o de idade
    dataNascimento.addEventListener('change', function () {
      const errorElement = document.getElementById('dataNascimentoError');
      const birthDate = new Date(this.value);
      const today = new Date();
      let age = today.getFullYear() - birthDate.getFullYear();
      const monthDiff = today.getMonth() - birthDate.getMonth();

      if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
        age--;
      }

      if (age >= 18) {
        this.classList.add('valid');
        this.classList.remove('invalid');
        errorElement.classList.remove('show');
      } else {
        this.classList.add('invalid');
        this.classList.remove('valid');
        errorElement.classList.add('show');
      }
    });

    // Event listeners para valida√ß√£o
    nome.addEventListener('input', () => validateField(nome, patterns.nome, 'nomeError', 'nomeIcon'));
    email.addEventListener('input', () => validateField(email, patterns.email, 'emailError', 'emailIcon'));
    telefone.addEventListener('input', () => validateField(telefone, patterns.telefone, 'telefoneError', 'telefoneIcon'));
    cpf.addEventListener('input', () => validateField(cpf, patterns.cpf, 'cpfError', 'cpfIcon'));

    // Submit do formul√°rio
    form.addEventListener('submit', function (e) {
      e.preventDefault();

      // Validar todos os campos
      const isNomeValid = validateField(nome, patterns.nome, 'nomeError', 'nomeIcon');
      const isEmailValid = validateField(email, patterns.email, 'emailError', 'emailIcon');
      const isTelefoneValid = validateField(telefone, patterns.telefone, 'telefoneError', 'telefoneIcon');
      const isCpfValid = validateField(cpf, patterns.cpf, 'cpfError', 'cpfIcon');
      const isSenhaValid = validateField(senha, patterns.senha, 'senhaError', 'senhaIcon');
      const isSenhasIguais = senha.value === confirmarSenha.value;
      const isTermosAceitos = document.getElementById('termos').checked;

      if (isNomeValid && isEmailValid && isTelefoneValid && isCpfValid && isSenhaValid && isSenhasIguais && isTermosAceitos) {
        form.style.display = 'none';
        successMessage.classList.add('show');
      } else {
        // Shake no bot√£o se inv√°lido
        const btn = document.getElementById('submitBtn');
        btn.style.animation = 'shake 0.3s ease';
        setTimeout(() => btn.style.animation = '', 300);
      }
    });

    // Reset do formul√°rio
    function resetForm() {
      form.reset();
      form.style.display = 'block';
      successMessage.classList.remove('show');

      // Limpar classes de valida√ß√£o
      document.querySelectorAll('input').forEach(input => {
        input.classList.remove('valid', 'invalid');
      });

      // Limpar √≠cones
      document.querySelectorAll('.input-icon').forEach(icon => {
        icon.textContent = '';
      });

      // Limpar for√ßa da senha
      document.getElementById('strengthBar').className = 'password-strength-bar';
      document.getElementById('strengthText').textContent = '';
    }
  </script>
</body>

</html>
